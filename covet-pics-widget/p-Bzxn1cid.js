/*!
 * Copyright by Space Squirrel Ltd.
 */
import{m as e,c as t,e as n,a as l,b as s,d as a}from"./p-BM21er6f.js";function i(i){let{swiper:r,extendParams:o,on:c,emit:p}=i;const u="swiper-pagination";let b;o({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${u}-bullet`,bulletActiveClass:`${u}-bullet-active`,modifierClass:`${u}-`,currentClass:`${u}-current`,totalClass:`${u}-total`,hiddenClass:`${u}-hidden`,progressbarFillClass:`${u}-progressbar-fill`,progressbarOppositeClass:`${u}-progressbar-opposite`,clickableClass:`${u}-clickable`,lockClass:`${u}-lock`,horizontalClass:`${u}-horizontal`,verticalClass:`${u}-vertical`,paginationDisabledClass:`${u}-disabled`}}),r.pagination={el:null,bullets:[]};let d=0;function f(){return!r.params.pagination.el||!r.pagination.el||Array.isArray(r.pagination.el)&&0===r.pagination.el.length}function $(e,t){const{bulletActiveClass:n}=r.params.pagination;e&&(e=e[("prev"===t?"previous":"next")+"ElementSibling"])&&(e.classList.add(`${n}-${t}`),(e=e[("prev"===t?"previous":"next")+"ElementSibling"])&&e.classList.add(`${n}-${t}-${t}`))}function g(e){const t=e.target.closest(l(r.params.pagination.bulletClass));if(!t)return;e.preventDefault();const n=a(t)*r.params.slidesPerGroup;if(r.params.loop){if(r.realIndex===n)return;const e=(s=r.realIndex,i=n,(i%=o=r.slides.length)==1+(s%=o)?"next":i===s-1?"previous":void 0);"next"===e?r.slideNext():"previous"===e?r.slidePrev():r.slideToLoop(n)}else r.slideTo(n);var s,i,o}function h(){const t=r.rtl,n=r.params.pagination;if(f())return;let i,o,c=r.pagination.el;c=e(c);const u=r.params.loop?Math.ceil((r.virtual&&r.params.virtual.enabled?r.virtual.slides.length:r.slides.length)/r.params.slidesPerGroup):r.snapGrid.length;if(r.params.loop?(o=r.previousRealIndex||0,i=r.params.slidesPerGroup>1?Math.floor(r.realIndex/r.params.slidesPerGroup):r.realIndex):void 0!==r.snapIndex?(i=r.snapIndex,o=r.previousSnapIndex):(o=r.previousIndex||0,i=r.activeIndex||0),"bullets"===n.type&&r.pagination.bullets&&r.pagination.bullets.length>0){const e=r.pagination.bullets;let l,p,u;if(n.dynamicBullets&&(b=s(e[0],r.isHorizontal()?"width":"height"),c.forEach((e=>{e.style[r.isHorizontal()?"width":"height"]=b*(n.dynamicMainBullets+4)+"px"})),n.dynamicMainBullets>1&&void 0!==o&&(d+=i-(o||0),d>n.dynamicMainBullets-1?d=n.dynamicMainBullets-1:d<0&&(d=0)),l=Math.max(i-d,0),p=l+(Math.min(e.length,n.dynamicMainBullets)-1),u=(p+l)/2),e.forEach((e=>{const t=[...["","-next","-next-next","-prev","-prev-prev","-main"].map((e=>`${n.bulletActiveClass}${e}`))].map((e=>"string"==typeof e&&e.includes(" ")?e.split(" "):e)).flat();e.classList.remove(...t)})),c.length>1)e.forEach((e=>{const t=a(e);t===i?e.classList.add(...n.bulletActiveClass.split(" ")):r.isElement&&e.setAttribute("part","bullet"),n.dynamicBullets&&(t>=l&&t<=p&&e.classList.add(...`${n.bulletActiveClass}-main`.split(" ")),t===l&&$(e,"prev"),t===p&&$(e,"next"))}));else{const t=e[i];if(t&&t.classList.add(...n.bulletActiveClass.split(" ")),r.isElement&&e.forEach(((e,t)=>{e.setAttribute("part",t===i?"bullet-active":"bullet")})),n.dynamicBullets){const t=e[l],s=e[p];for(let t=l;t<=p;t+=1)e[t]&&e[t].classList.add(...`${n.bulletActiveClass}-main`.split(" "));$(t,"prev"),$(s,"next")}}if(n.dynamicBullets){const l=Math.min(e.length,n.dynamicMainBullets+4),s=(b*l-b)/2-u*b,a=t?"right":"left";e.forEach((e=>{e.style[r.isHorizontal()?a:"top"]=`${s}px`}))}}c.forEach(((e,t)=>{if("fraction"===n.type&&(e.querySelectorAll(l(n.currentClass)).forEach((e=>{e.textContent=n.formatFractionCurrent(i+1)})),e.querySelectorAll(l(n.totalClass)).forEach((e=>{e.textContent=n.formatFractionTotal(u)}))),"progressbar"===n.type){let t;t=n.progressbarOpposite?r.isHorizontal()?"vertical":"horizontal":r.isHorizontal()?"horizontal":"vertical";const s=(i+1)/u;let a=1,o=1;"horizontal"===t?a=s:o=s,e.querySelectorAll(l(n.progressbarFillClass)).forEach((e=>{e.style.transform=`translate3d(0,0,0) scaleX(${a}) scaleY(${o})`,e.style.transitionDuration=`${r.params.speed}ms`}))}"custom"===n.type&&n.renderCustom?(e.innerHTML=n.renderCustom(r,i+1,u),0===t&&p("paginationRender",e)):(0===t&&p("paginationRender",e),p("paginationUpdate",e)),r.params.watchOverflow&&r.enabled&&e.classList[r.isLocked?"add":"remove"](n.lockClass)}))}function v(){const t=r.params.pagination;if(f())return;const n=r.virtual&&r.params.virtual.enabled?r.virtual.slides.length:r.grid&&r.params.grid.rows>1?r.slides.length/Math.ceil(r.params.grid.rows):r.slides.length;let s=r.pagination.el;s=e(s);let a="";if("bullets"===t.type){let e=r.params.loop?Math.ceil(n/r.params.slidesPerGroup):r.snapGrid.length;r.params.freeMode&&r.params.freeMode.enabled&&e>n&&(e=n);for(let n=0;n<e;n+=1)a+=t.renderBullet?t.renderBullet.call(r,n,t.bulletClass):`<${t.bulletElement} ${r.isElement?'part="bullet"':""} class="${t.bulletClass}"></${t.bulletElement}>`}"fraction"===t.type&&(a=t.renderFraction?t.renderFraction.call(r,t.currentClass,t.totalClass):`<span class="${t.currentClass}"></span> / <span class="${t.totalClass}"></span>`),"progressbar"===t.type&&(a=t.renderProgressbar?t.renderProgressbar.call(r,t.progressbarFillClass):`<span class="${t.progressbarFillClass}"></span>`),r.pagination.bullets=[],s.forEach((e=>{"custom"!==t.type&&(e.innerHTML=a||""),"bullets"===t.type&&r.pagination.bullets.push(...e.querySelectorAll(l(t.bulletClass)))})),"custom"!==t.type&&p("paginationRender",s[0])}function m(){r.params.pagination=t(r,r.originalParams.pagination,r.params.pagination,{el:"swiper-pagination"});const l=r.params.pagination;if(!l.el)return;let s;"string"==typeof l.el&&r.isElement&&(s=r.el.querySelector(l.el)),s||"string"!=typeof l.el||(s=[...document.querySelectorAll(l.el)]),s||(s=l.el),s&&0!==s.length&&(r.params.uniqueNavElements&&"string"==typeof l.el&&Array.isArray(s)&&s.length>1&&(s=[...r.el.querySelectorAll(l.el)],s.length>1&&(s=s.find((e=>n(e,".swiper")[0]===r.el)))),Array.isArray(s)&&1===s.length&&(s=s[0]),Object.assign(r.pagination,{el:s}),s=e(s),s.forEach((e=>{"bullets"===l.type&&l.clickable&&e.classList.add(...(l.clickableClass||"").split(" ")),e.classList.add(l.modifierClass+l.type),e.classList.add(r.isHorizontal()?l.horizontalClass:l.verticalClass),"bullets"===l.type&&l.dynamicBullets&&(e.classList.add(`${l.modifierClass}${l.type}-dynamic`),d=0,l.dynamicMainBullets<1&&(l.dynamicMainBullets=1)),"progressbar"===l.type&&l.progressbarOpposite&&e.classList.add(l.progressbarOppositeClass),l.clickable&&e.addEventListener("click",g),r.enabled||e.classList.add(l.lockClass)})))}function C(){const t=r.params.pagination;if(f())return;let n=r.pagination.el;n&&(n=e(n),n.forEach((e=>{e.classList.remove(t.hiddenClass),e.classList.remove(t.modifierClass+t.type),e.classList.remove(r.isHorizontal()?t.horizontalClass:t.verticalClass),t.clickable&&(e.classList.remove(...(t.clickableClass||"").split(" ")),e.removeEventListener("click",g))}))),r.pagination.bullets&&r.pagination.bullets.forEach((e=>e.classList.remove(...t.bulletActiveClass.split(" "))))}c("changeDirection",(()=>{if(!r.pagination||!r.pagination.el)return;const t=r.params.pagination;let{el:n}=r.pagination;n=e(n),n.forEach((e=>{e.classList.remove(t.horizontalClass,t.verticalClass),e.classList.add(r.isHorizontal()?t.horizontalClass:t.verticalClass)}))})),c("init",(()=>{!1===r.params.pagination.enabled?x():(m(),v(),h())})),c("activeIndexChange",(()=>{void 0===r.snapIndex&&h()})),c("snapIndexChange",(()=>{h()})),c("snapGridLengthChange",(()=>{v(),h()})),c("destroy",(()=>{C()})),c("enable disable",(()=>{let{el:t}=r.pagination;t&&(t=e(t),t.forEach((e=>e.classList[r.enabled?"remove":"add"](r.params.pagination.lockClass))))})),c("lock unlock",(()=>{h()})),c("click",((t,n)=>{const l=n.target,s=e(r.pagination.el);if(r.params.pagination.el&&r.params.pagination.hideOnClick&&s&&s.length>0&&!l.classList.contains(r.params.pagination.bulletClass)){if(r.navigation&&(r.navigation.nextEl&&l===r.navigation.nextEl||r.navigation.prevEl&&l===r.navigation.prevEl))return;const e=s[0].classList.contains(r.params.pagination.hiddenClass);p(!0===e?"paginationShow":"paginationHide"),s.forEach((e=>e.classList.toggle(r.params.pagination.hiddenClass)))}}));const x=()=>{r.el.classList.add(r.params.pagination.paginationDisabledClass);let{el:t}=r.pagination;t&&(t=e(t),t.forEach((e=>e.classList.add(r.params.pagination.paginationDisabledClass)))),C()};Object.assign(r.pagination,{enable:()=>{r.el.classList.remove(r.params.pagination.paginationDisabledClass);let{el:t}=r.pagination;t&&(t=e(t),t.forEach((e=>e.classList.remove(r.params.pagination.paginationDisabledClass)))),m(),v(),h()},disable:x,render:v,update:h,init:m,destroy:C})}export{i as P}