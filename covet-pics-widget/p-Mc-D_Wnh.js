/*!
 * Copyright by Space Squirrel Ltd.
 */
const t=(t,o,a,d)=>{const n={embedId:null,productHandle:null,shopDomain:null,photoRequestId:null},s=window.location;return n.embedId=t,n.photoRequestId=a,d.hasAttribute("data-product")?n.productHandle=d.getAttribute("data-product"):-1!==s.pathname.indexOf("/products/")&&(n.productHandle=s.pathname.match(/\/products\/([a-zA-Z0-9\-\_\%]+)/)[1]),n.shopDomain=""!==o?o:d.hasAttribute("data-shop")?d.getAttribute("data-shop"):s.hostname,Object.assign({},n)},o=(t,o,a={})=>{if(t.preview.mode||!t.analytics)return!1;const d=`${t.url.baseBeaconsUrl}${o}`,n=Object.assign({gallery_id:t.widgetId.galleryId,shop_id:t.widgetId.shopId},a);navigator.sendBeacon(d,JSON.stringify(n))};export{t as g,o as s}